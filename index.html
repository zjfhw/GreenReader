<!doctype html>
<!--[if lt IE 7 ]> <html lang="en" class="ie6"> <![endif]--> <!--[if IE 7 ]>    <html lang="en" class="ie7"> <![endif]--> <!--[if IE 8 ]>    <html lang="en" class="ie8"> <![endif]--> <!--[if IE 9 ]>    <html lang="en" class="ie9"> <![endif]-->
<!--[if (gt IE 9)|!(IE)]><!--> <html lang="en"> <!--<![endif]-->
  <head>
    <meta charset="UTF-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>

    <title>Greader</title>
    <meta name="description" content=""/>
    <meta name="author" content=""/>

    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>

    <link rel="shortcut icon" href="/favicon.ico">
    <link rel="apple-touch-icon" href="/apple-touch-icon.png">
    <!-- <link rel="stylesheet" href="js/libs/jquery.mobile-1.1.0.min.css" type="text/css" media="screen" /> -->
    <style type="text/css" media="screen">@import "js/libs/jqtouch/jqtouch/jqtouch.css";</style>
    <!-- <style type="text/css" media="screen">@import "js/libs/jqtouch/themes/jqt/theme.css";</style> -->
    <style type="text/css" media="screen">@import "css/themes/artspot/theme.css";</style>
    
    <style type="text/css" media="screen">@import "js/libs/jqtouch/extensions/jqt.bars/jqt.bars.css";</style>
    
    <style type="text/css" media="screen">@import "js/libs/jqtouch/extensions/jqt.bars/themes/jqt/theme.css";</style>
    <style type="text/css" media="screen">@import "css/style.css";</style>
    <style type="text/css" media="screen">@import "css/jquery.mobile-1.1.0.min.css";</style>
    <!-- <link rel="stylesheet" href="http://code.jquery.com/mobile/1.1.0/jquery.mobile-1.1.0.min.css" type="text/css" media="screen" /> -->
    <!--[if lt IE 9]>
        <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
    <script type="text/javascript" src="cordova-1.7.0.js"></script>
    <script src="js/libs/jquery-1.7.2.min.js"></script>
    <!-- <script src="js/libs/jqtouch/jqtouch/jquery-1.4.2.js"></script> -->
    <script src="js/libs/moment.min.js"></script>
    <!-- <script src="js/libs/jquery.mobile-1.1.0.min.js"></script> -->
    <script src="js/libs/jqtouch/jqtouch/jqtouch.js" type="text/javascript" charset="utf-8"></script>
    <script src="js/libs/jqtouch/jqtouch/jqtouch-jquery.js" type="text/javascript" charset="utf-8"></script>
  <script src="js/libs/jqtouch/extensions/jqt.activityIndicator.js" type="text/javascript" charset="utf-8"></script>
    <script src="js/libs/jqtouch/extensions/jqt.bars/iscroll.js" type="text/javascript" charset="utf-8"></script>
    <script src="js/libs/jqtouch/extensions/jqt.bars/jqt.bars.js" type="text/javascript" charset="utf-8"></script>
    <!-- <script src="js/libs/jqtouch/extensions/jqt.autotitles.js" type="text/javascript" charset="utf-8"></script> -->
    <!-- <script src="js/libs/jqtouch/extensions/jqt.autotitles.js" type="text/javascript" charset="utf-8"></script> -->
    <script src="js/libs/ember-0.9.8.1.js"></script>
    <script type="text/javascript" src="js/libs/lawnchair-0.6.1.min.js"></script>
    <!-- <script type="text/javascript" scr = "https://ajax.googleapis.com/ajax/libs/jqueryui/1.8.18/jquery-ui.min.js"> -->
    
</script>

<script type="text/javascript" charset="utf-8">
  var jQT = $.jQTouch({
  touchSelector:[ '.swipe', '.swipeToDelete'],
  useFastTouch:true
  });
  var showLoader = function(){

  $('.ui-loader').css('display','block');
  }
  var hideLoader = function(){
  $('.ui-loader').css('display','none');
  }
  $(function(){
$("#jqt").ajaxStart(function() {
  $('.ui-loader').css('display','block');
    console.log("ajaxStart");
  }).ajaxSuccess(function() {
    console.log("ajaxSuccess");
  $('.ui-loader').css('display','none');
  }).ajaxError(function() {
$('.ui-loader').css('display','none');
    console.log("ajaxError");
  });

 });
</script>
</head>
<body>
  <div class="ui-loader ui-corner-all ui-body-a ui-loader-default">
<span class="ui-icon ui-icon-loading"></span><h1>loading</h1></div>
  <!-- <div id="tabbar"> -->
  <div id="tabbar">
    <script type="text/x-handlebars">
      <div>
        {{#collection RSSReader.FooterNavBarView}}
        <!-- {{#with content}} -->
        <a {{bindAttr href="url"}} {{bindAttr mask="icon"}} {{bindAttr class="enabled"}}>
          {{#if countName}}
          <small class="badge right">{{count}}</small>
          {{/if}}
          <strong>{{title}}</strong>
        </a>
        <!-- {{/with}} -->
        {{/collection}}
      </div>
    </script>
  </div>

  <!-- jqt content -->
  <div id="jqt">
    <div id="main-view">
      <div class="toolbar">
        <h1>Green Reader</h1>
        <a href="#addsubscription" class="slideup add"> + </a>
      </div>
      <div class="s-scrollwrapper" vScrollbar="false">
        <div>
          <script type="text/x-handlebars">    
          {{#unless RSSReader.subscriptionController.content.length}}
          <div class="info">
            <p>Press  the + button on right top to add some news source</p>
          </div>
          {{/unless}}
            {{#collection RSSReader.SubscriptionView}}
            <a href="#list-view" class="swipeToDelete" {{action "getstore" on="click"}}>
              {{{content.title}}}
            </a>
            <small class="counter color-red hide" {{action "delete" on="click"}}>Delete</small>
            <!-- <span class="ui-li-count ui-btn-up-c ui-btn-corner-all">{{content.length}}</span> -->
            {{/collection}}
          </script>
        </div>
      </div>

      <script type="text/x-handlebars" data-template-name="listview" id="listview">

        <div class="toolbar">
          <a href="#" class="back">Back</a>
          <h1>{{{RSSReader.subscriptionController.currentSubscription.title}}}</h1>
          <a class="button">mark all as Read </a>
          <!-- <a {{action "refresh" on="click"}} class="button">Refresh</a> -->
        </div>
        <div class="s-scrollwrapper pullable">
          <div id="pulltoupdate" style="left:0px;">
            <div id="pullDown" class="">
			        <span class="pullDownIcon"></span><span class="pullDownLabel">Pull down to refresh...</span>
		        </div>
            {{#collection RSSReader.SummaryListView}}
            {{content.title}}
            <small style="width:auto;">{{dateFromNow}}</small>
            <p>
            <em style="white-space:normal;font-size: 14px;">
                {{content.short_desc}}
              </em>
            </p>
            {{/collection}}
          </div>
        </div>
      </script>

      <script type="text/x-handlebars" data-template-name="current">
        {{#view RSSReader.EntryItemView}}
        <div class="toolbar">
          <a href="#" class="back">Back</a>
          <h1>{{{content.title}}}</h1>
        </div>
        {{/view}}
        <div class="s-scrollwrapper swipe">
          <div class="">
            {{#if RSSReader.itemNavController.currentItem}}
            {{#view RSSReader.EntryItemView}}
            <h1>{{content.title}}</h1>
            <span class="author">{{content.pub_author}}</span>
            <hr/>
            <p class="post-content">{{{content.content}}}</p>
            {{/view}}
            {{/if}}
          </div>
        </div>
      </script>
    </div>
    <div id="addsubscription">
      <div  class="toolbar">
        <h1>Add Subscription</h1>
      </div>
      <div class="scroll">
        <div id="some_id" class="some_class">
        <script type="text/x-handlebars">
          <h1>Input Keywords for Search or Feed Link(including "http")</h1>
          <form id="search-news" method="get">
            <div class="ui-input-search ui-shadow-inset ui-btn-corner-all ui-btn-shadow ui-icon-searchfield ui-body-c">
              <input type="search" name="q" data-type="search" class="ui-input-text ui-body-c"  placeholder="Keywords">
            </div>
          </form>
          {{#collection RSSReader.QueryResultView}}
          <p> {{{content.title}}}</p>
          <em>{{content.url}}</em>
          {{/collection}}
        </script>
        <br>
        <a class="grayButton" href="#">
          Cancel
        </a>
      </div> </div> 
    </div>
    
    <div id="settings-view">
      <div class="toolbar">
        <h1>Settings</h1>
      </div>
      <div class="scroll">
        <h1>Sync Settings</h1>
        <ul class="rounded">
          <li>Sync All Subscription Now</li>
        </ul>
        <ul class="rounded">
          <li><a href="#" onclick="javascript:localStorage.clear();window.location.reload();">Clear All Local Storage</a></li>
        </ul>
      </div>
    </div>

    <div id="about-view">
      <div class="toolbar">
        <h1>About</h1>
      </div>
      <div class="scroll">
        <h1>Sync Settings</h1>
        <ul class="rounded">
          <li>Sync All Subscription Now</li>
        </ul>
        <ul class="rounded">
          <li><a href="#" onclick="javascript:localStorage.clear();window.location.reload();">Clear All Local Storage</a></li>
        </ul>
      </div>
    </div>

    <!-- <script src="js/dev-helper.js"></script> -->
    <script src="js/plugins.js"></script>
    <script src="js/init.js"></script>
    <!-- <script src="js/jqm.js"></script> -->
    <script src="js/app.js"></script>
    <!-- <script src="js/libs/jqtouch/extensions/jqt.bars/jqt.bars.js" type="text/javascript" charset="utf-8"></script> -->
</body>
</html>
